import os
import random
from flask import Flask, render_template, jsonify

app = Flask(__name__)

# Word Bank: 100+ Words per level
WORD_BANK = {
    "easy": [
        "က", "ခ", "ဂ", "င", "စ", "ဆ", "ဇ", "ည", "တ", "ထ", "ဒ", "န", "ပ", "ဖ", "ဗ", "မ", "ယ", "ရ", "လ", "ဝ", "သ", "ဟ", "အ",
        "မေ", "ဖေ", "ညီ", "ကို", "မမ", "ဦး", "ဒေါ်", "စား", "သွား", "လာ", "နေ", "ထိုင်", "ကောင်း", "ဆိုး", "ကြီး", "ငယ်", "သစ်",
        "ဟောင်း", "အိမ်", "ကျောင်း", "ဈေး", "ရေ", "မီး", "လေ", "မြေ", "ပန်း", "သီး", "ငါး", "နွား", "မြင်း", "ဆင်", "ခွေး", "ကြောင်",
        "ဝက်", "ကြက်", "ဘဲ", "ငှက်", "မြွေ", "လိပ်", "ယုန်", "ခြင်", "ယင်", "ပုပ္ပ", "အမေ", "အဖေ", "အစ်ကို", "အစ်မ", "ညီမ", "မောင်",
        "ဦးလေး", "ဒေါ်လေး", "အဘိုး", "အဘွား", "မြေး", "သား", "သမီး", "ချစ်", "မုန်း", "ပျော်", "ငို", "ရယ်", "အိပ်", "နိုး", "ကျန်း",
        "မာ", "ချမ်း", "သာ", "ပေါ", "များ", "နည်း", "လှ", "ဝ", "ကျော", "ဗိုက်", "လက်", "ခြေ", "ခေါင်း", "နေ", "လ", "ကြယ်", "ဆီ", "ဆန်"
    ],
    "medium": [
        "မင်္ဂလာပါ", "နေကောင်းလား", "စားပြီးပြီလား", "ဘယ်သွားမလဲ", "ကျောင်းတက်မယ်", "အလုပ်သွားမယ်", "စာဖတ်မယ်", "ဈေးဝယ်မယ်", "ထမင်းစားမယ်", "ရေချိုးမယ်",
        "အိပ်ပျော်ပြီ", "နိုးလာပြီ", "ပျော်ရွှင်ပါစေ", "ကံကောင်းပါစေ", "ကျေးဇူးတင်ပါတယ်", "တောင်းပန်ပါတယ်", "ရပါတယ်", "ဟုတ်ပါတယ်", "မဟုတ်ပါဘူး", "သိပါတယ်",
        "မသိပါဘူး", "နားလည်တယ်", "နားမလည်ဘူး", "ချစ်သူ", "သူငယ်ချင်း", "မိသားစု", "အိမ်နီးချင်း", "ဆရာမ", "ကျောင်းသား", "စာကြည့်တိုက်", "ဆေးရုံ", "ဘူတာရုံ",
        "လေဆိပ်", "ပန်းခြံ", "ရုပ်ရှင်ရုံ", "စားသောက်ဆိုင်", "ကွန်ပျူတာ", "ဖုန်းနံပါတ်", "အင်တာနက်", "နည်းပညာ", "သင်ခန်းစာ", "ဘာသာစကား", "မြန်မာစာ", "အင်္ဂလိပ်စာ",
        "သင်္ချာ", "သမိုင်း", "ပထဝီ", "သိပ္ပံ", "ပန်းချီ", "ဂီတ", "အားကစား", "ဘောလုံး", "ခြင်းလုံး", "ရေကူး", "ပြေးပွဲ", "ခရီးသွား", "တောင်တက်", "ပင်လယ်",
        "သောင်ပြင်", "နေကြာပန်း", "နှင်းဆီပန်း", "စံပယ်ပန်း", "သပြေပန်း", "သစ်ပင်", "တောအုပ်", "ကောင်းကင်", "နေမင်း", "လမင်း", "ကြယ်စင်", "မိုးတိမ်", "လေပြေ",
        "မိုးရွာ", "နေပူ", "နှင်းကျ", "ဆောင်းရာသီ", "နွေရာသီ", "မိုးရာသီ", "မွေးနေ့", "မင်္ဂလာဆောင်", "ပွဲတော်", "ပျော်ပွဲ", "ထမင်းဝိုင်း", "လက်ဖက်ရည်", "ကော်ဖီ",
        "မုန့်ဟင်းခါး", "အုန်းနို့ခေါက်ဆွဲ", "လဖက်သုပ်", "ချင်းသုပ်", "ငါးဟင်း", "အသားဟင်း", "ဟင်းသီးဟင်းရွက်", "သစ်သီး", "ပန်းသီး", "ငှက်ပျောသီး", "သရက်သီး", "လိမ္မော်သီး"
    ],
    "hard": [
        "ဒီမိုကရေစီ", "လွတ်လပ်ရေး", "စည်းလုံးခြင်း", "တရားမျှတမှု", "အေးချမ်းသာယာ", "ဖွံ့ဖြိုးတိုးတက်", "ယဉ်ကျေးမှု", "အမွေအနှစ်", "သမိုင်းကြောင်း", "နိုင်ငံတော်",
        "ဖွဲ့စည်းပုံ", "အခြေခံဥပဒေ", "သံတမန်ရေး", "စီးပွားရေး", "လူမှုရေး", "ပညာရေး", "ကျန်းမာရေး", "သဘာဝပတ်ဝန်းကျင်", "ရာသီဥတုပြောင်းလဲမှု", "နည်းပညာသစ်",
        "သုတေသန", "တီထွင်ဆန်းသစ်", "စွန့်ဦးတီထွင်", "တာဝန်ယူမှု", "တာဝန်ခံမှု", "ပွင့်လင်းမြင်သာ", "အဂတိလိုက်စားမှု", "တိုက်ဖျက်ရေး", "ငြိမ်းချမ်းရေး", "ညီလာခံ",
        "အမှတ်တရ", "မျှော်လင့်ချက်", "စိတ်ကူးယဉ်", "အောင်မြင်မှု", "ကြိုးစားအားထုတ်", "ဝီရိယ", "သတိတရား", "မေတ္တာ", "ကရုဏာ", "မုဒိတာ", "ဥပက္ခာ", "ဗြဟ္မစိုရ်တရား",
        "လောကနီတိ", "ပရဟိတ", "စေတနာ", "ယုံကြည်မှု", "သစ္စာရှိခြင်း", "ရိုးသားမှု", "သည်းခံခြင်း", "ခွင့်လွှတ်ခြင်း", "ညှိနှိုင်း", "တိုင်ပင်", "ဆွေးနွေး", "အဖြေရှာ",
        "ခက်ခဲ", "နက်နဲ", "ရှုပ်ထွေး", "ထူးခြား", "အံ့သြဖွယ်", "ခန့်ညား", "လှပ", "ကျော့ရှင်း", "ခေတ်မီ", "စနစ်တကျ", "တိကျ", "မှန်ကန်", "မြန်ဆန်", "ထိရောက်",
        "စွမ်းဆောင်ရည်", "အရည်အသွေး", "စံချိန်စံညွှန်း", "ကမ္ဘာ့အဆင့်", "ဂုဏ်ယူ", "ဝမ်းသာ", "ကျေနပ်", "ကြည်နူး", "သပ္ပာယ်", "ခမ်းနား", "ကြီးကျယ်", "ထည်ဝါ",
        "စည်းကမ်း", "စနစ်", "ဝတ္တရား", "နိုးကြား", "တက်ကြွ", "အစဉ်အမြဲ", "ထာဝရ", "ခိုင်မြဲ", "တည်တံ့", "ခိုင်မာ", "ပြတ်သား", "ရဲရင့်", "ထက်မြက်", "လိမ္မာ",
        "ယဉ်ကျေး", "ဖြူစင်", "ဖြောင့်မတ်", "တည်ကြည်", "အေးချမ်း", "ငြိမ်သက်", "သိမ်မွေ့", "နူးညံ့", "ညင်သာ", "လှပခြင်း"
    ]
}

@app.route('/')
def index():
    return render_template('index.html')

@app.route('/api/words/<level>')
def get_words(level):
    words = WORD_BANK.get(level, WORD_BANK["easy"])
    random.shuffle(words)
    return jsonify(words)

if __name__ == '__main__':
    port = int(os.environ.get("PORT", 5001))
    app.run(host='0.0.0.0', port=port, debug=True)
